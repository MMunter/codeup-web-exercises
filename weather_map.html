<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Weather Map Exercise</title>
    <style>
        .container{
            background-color: deepskyblue;
            width: 50%;
        }
        .singleDay{
            display: inline-block;
            margin-left: 50px;
            background-color: silver;
        }




    </style>
</head>
<body>
<div class="container">
    <h1>Weather Application</h1>

    <div id="weatherPanels"></div>
</div>


<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
<script>
    $(document).ready(function() {

        "use strict";

        function buildWeather() {
            var weatherRequest = $.get("http://api.openweathermap.org/data/2.5/forecast/daily", {
                APPID: "7f8e3aa0aad113510e0c1eaafd1c17b8",
                q: "San Antonio, US",
                units: "imperial"
            });
            weatherRequest.done(function (data) {
                var total = "";
                for (var i = 0; i < 3; i += 1) {
                    total += "<div class='singleDay'>";
                    total += outputTemps(data.list[i]);
                    total += weatherIcon(data.list[i]);
                    total += showConditions(data.list[i]);
                    total += showHumidity(data.list[i]);
                    total += showPressure(data.list[i]);
                    total += showWind(data.list[i]);
                    total += "</div>";
                }
                $('#weatherPanels').html(total);

            });
            weatherRequest.fail(function (job, status) {
                console.log(status);
            });
        }
        buildWeather();

        function outputTemps(forecastDay) {
            return "<div>" + Math.round(forecastDay.temp.max) + "℉" + "/" + Math.round(forecastDay.temp.min) + "℉" + "</div>";
        }

        function weatherIcon(icons) {
            return"<div><img class='icon' src='http://openweathermap.org/img/w/' + icons.weather[0].icon + '.png'" + "></div>";
        }

        function showConditions(conditions){
              return"<div>" + conditions.weather[0].main + ": " + conditions.weather[0].description + "</div>";
        }

        function showHumidity(info) {
            return "<div>Humidity: " + info.humidity + "</div>";
        }

        function showPressure(info) {
            return "<div>Pressure: " + info.pressure + "</div>";
        }

        function showWind(info) {
            return "<div>Wind: " + info.speed + "</div>";
        }





    });
</script>

</body>
</html>